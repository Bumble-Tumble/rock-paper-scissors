<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<button class="rock"></button>
<button class="paper"></button>
<button class="scissor" ></button>
<div class="player"></div>
<div class="computer"></div>
<div class='uiResult'></div>
</body>
<script>
body = document.querySelector('body');
rockBut = document.querySelector(".rock");
rockBut.textContent = "rock";
body.appendChild(rockBut);
paperBut = document.querySelector('.paper');
body.appendChild(paperBut);
paperBut.textContent = 'paper';
sciBut = document.querySelector('.scissor');
sciBut.textContent = 'scissor';
body.appendChild(sciBut);
score1 = document.querySelector('.player');
score2 = document.querySelector('.computer')
body.appendChild(score1);
body.appendChild(score2);
score1.textContent = 'Player score = ' + ' ' + '0';
score2.textContent = 'Computer score = ' + ' ' + '0';
ui = document.querySelector('.uiResult');
body.appendChild(ui);


//makes the computer choice random
function getComputerChoice() {
choice = Math.floor(Math.random() * 3);
switch(choice){
case 0:
  choice = "rock";
  break;
case 1:
  choice = "paper"
  break;
case 2:
    choice = "scissor"
}
return choice;
}
let playerScore = 0;
let computerScore = 0;
let result = "first to 5 wins";
ui.textContent = result;
let computerSelection = getComputerChoice();
console.log(computerSelection);
// plays a round of rock paper scissors
function playRound(playerSelection, computerSelection){
if ((playerSelection === "rock" && computerSelection === "scissor") ||
 (playerSelection === "paper" && computerSelection === "rock")||
 (playerSelection === "scissor" && computerSelection === "paper")){
result = "you win this round";
playerScore++;
 }
 else if ((playerSelection === "rock" && computerSelection === "paper") ||
 (playerSelection === "paper" && computerSelection === "scissor")||
 (playerSelection === "scissor" && computerSelection === "rock")){
  result = "you lose this round";
  computerScore++;
 }
 else if ((playerSelection === "rock" && computerSelection === "rock") ||
 (playerSelection === "paper" && computerSelection === "paper")||
 (playerSelection === "scissor" && computerSelection === "scissor")){
  result = "tied"
 }
 
 //updates ui with results
 score1.textContent = 'Player score = ' + ' ' + playerScore;
score2.textContent = 'Computer score = ' + ' ' + computerScore;
 ui.textContent = result;
 scoreDetermine(playerScore, computerScore);

}

// compares computer score to player score and determines a winner
function scoreDetermine(){
  if (playerScore === 5){
     result = "you win the game";
     ui.textContent = result;
     playerScore = 0; // Reset player score
     computerScore = 0; // Reset computer score
     score1.textContent = 'Player score = ' + ' ' + playerScore; // Update UI
     score2.textContent = 'Computer score = ' + ' ' + computerScore; // Update UI
  }
  else if (computerScore === 5){
    result = 'you lose the game';
    ui.textContent = result;
    playerScore = 0; // Reset player score
    computerScore = 0; // Reset computer score
    score1.textContent = 'Player score = ' + ' ' + playerScore; // Update UI
    score2.textContent = 'Computer score = ' + ' ' + computerScore; // Update UI
  }
}

let playerSelection = "rock";

// allows buttons to function
rockBut.addEventListener('click', function (){
    let playerSelection = "rock"; 
    let computerSelection = getComputerChoice();
    let result = playRound(playerSelection, computerSelection);
    
});
paperBut.addEventListener('click', function (){
    let playerSelection = "paper"; 
    let computerSelection = getComputerChoice();
    let result = playRound(playerSelection, computerSelection);
     
});
sciBut.addEventListener('click', function (){
    let playerSelection = "scissor"; 
    let computerSelection = getComputerChoice();
    let result = playRound(playerSelection, computerSelection);
    
});



</script>
</html>